# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫—É—Ä–∞—Ç–æ—Ä–∞

## üéØ –¶–µ–ª—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞ –∑–∞—â–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–≥–ª—è–¥–Ω–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–µ—Ç—ã—Ä–µ –≤–æ–ø—Ä–æ—Å–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞:

1. **–°–∫–æ–ª—å–∫–æ —Ä–∞–∑** –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –±–æ–ª—å—à–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏?
2. **–ö–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –º–æ–¥–µ–ª–∏ –∏ **–æ—Ç–∫—É–¥–∞** –æ–Ω–∞ –±–µ—Ä–µ—Ç—Å—è?
3. **–ö–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è?
4. **–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Telegram-–±–æ—Ç–µ?

---

## üìÅ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞—â–∏—Ç–æ–π

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

1. **–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª `services/ai/perplexity.py` –≤ IDE
2. **Telegram-–±–æ—Ç** ‚Äî –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
3. **–õ–æ–≥–∏** ‚Äî —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤ –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å —Å –≤—ã–≤–æ–¥–æ–º (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Loguru)
4. **–î–∏–∞–≥—Ä–∞–º–º–∞** ‚Äî –æ—Ç–∫—Ä—ã—Ç—å `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/ALGORITHM_DIAGRAM.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
5. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ª–æ—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑–∞—Ç—å –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É (–¥–∏–∞–≥—Ä–∞–º–º–∞)
2. –ó–∞—Ç–µ–º –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ (3 —Ñ—É–Ω–∫—Ü–∏–∏)
3. –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–º–ø—Ç—ã)
4. –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram-–±–æ—Ç–µ

---

## ‚ùì –í–æ–ø—Ä–æ—Å 1: –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ LLM?

### üìç –ì–¥–µ –ø–æ–∫–∞–∑–∞—Ç—å

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –î–∏–∞–≥—Ä–∞–º–º–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/ALGORITHM_DIAGRAM.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–æ–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É "–û–±—â–∞—è —Å—Ö–µ–º–∞ –≤—ã–∑–æ–≤–æ–≤ LLM"
3. **–°–∫–∞–∂–∏—Ç–µ:** "–í —Å–∏—Å—Ç–µ–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ **–ø—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –±–æ–ª—å—à–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏"

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ö–æ–¥**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `services/ai/perplexity.py`
2. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `call_llm_scenario` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 160)
3. –ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—Å–µ –≤—ã–∑–æ–≤—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é
4. –ù–∞–π–¥–∏—Ç–µ –ø—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç LLM:
   - `analyze_lot` (—Å—Ç—Ä–æ–∫–∞ ~700)
   - `analyze_documentation` (—Å—Ç—Ä–æ–∫–∞ ~757)
   - `search_suppliers_perplexity` (—Å—Ç—Ä–æ–∫–∞ ~840)
   - `analyze_supplier_reliability` (–≤ `services/ai/commercial_proposal_analysis.py`)
   - `check_nomenclature_match_with_llm` (–≤ `config/nomenclature.py`)

### üí¨ –¢–µ–∫—Å—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞

> "–í –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ **–ø—è—Ç—å –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –±–æ–ª—å—à–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ Perplexity:
> 
> 1. **`analyze_lot`** ‚Äî **–ë–´–°–¢–†–´–ô –∞–Ω–∞–ª–∏–∑ –ª–æ—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∏ (–∫–æ–≥–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞)
> 2. **`analyze_documentation`** ‚Äî **–î–ï–¢–ê–õ–¨–ù–´–ô –∞–Ω–∞–ª–∏–∑ –ª–æ—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω–∫—É—Ä—Å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∫–æ–≥–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞)
> 3. **`search_suppliers_perplexity`** ‚Äî –ø–æ–∏—Å–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ–≤–∞—Ä–∞
> 4. **`analyze_supplier_reliability`** ‚Äî –∞–Ω–∞–ª–∏–∑ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
> 5. **`check_nomenclature_match_with_llm`** ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã –ª–æ—Ç–∞ —Å –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
> 
> **–í–∞–∂–Ω–æ:** –ü–µ—Ä–≤—ã–µ –¥–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è ‚Äî —ç—Ç–æ –Ω–µ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–∞, –∞ **–¥–≤–∞ —Ä–µ–∂–∏–º–∞ –æ–¥–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞** —Å —Ä–∞–∑–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–∂–∏–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
> 
> –ü—è—Ç—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ª–æ—Ç–æ–≤: –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã.
> 
> –í—Å–µ –ø—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—ë—Ä—Ç–∫—É `call_llm_scenario()` (–∏–ª–∏ `ask_perplexity()` –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤), –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞."

### üì∏ –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ

- –î–∏–∞–≥—Ä–∞–º–º—É —Å –ø—è—Ç—å—é –≤–µ—Ç–∫–∞–º–∏ (analyze_lot, analyze_documentation, search_suppliers, analyze_supplier_reliability, check_nomenclature_match_with_llm)
- –ò–ª–∏ –∫–æ–¥ —Å —á–µ—Ç—ã—Ä—å–º—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –≤—ã–∑—ã–≤–∞—é—â–∏–º–∏ `call_llm_scenario`

---

## ‚ùì –í–æ–ø—Ä–æ—Å 2: –ö–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –º–æ–¥–µ–ª–∏ –∏ –æ—Ç–∫—É–¥–∞ –æ–Ω–∞ –±–µ—Ä–µ—Ç—Å—è?

### üìç –ì–¥–µ –ø–æ–∫–∞–∑–∞—Ç—å

**–®–∞–≥ 1: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `analyze_lot`**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `services/ai/perplexity.py`
2. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `analyze_lot` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 350)
3. –ü–æ–∫–∞–∂–∏—Ç–µ –±–ª–æ–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ —Å `logger.debug`):

```python
logger.debug(
    f"[DATA SOURCES] analyze_lot - "
    f"lot_id={lot.id}, lot_number={lot.lot_number}, "
    f"platform={lot.platform_name}, customer={lot.customer}, "
    f"budget={lot.budget}, deadline={lot.deadline}, status={lot.status}, "
    f"nomenclature_size={len(lot.nomenclature or [])}, "
    f"nomenclature_preview={', '.join((lot.nomenclature or [])[:3])}{'...' if len(lot.nomenclature or []) > 3 else ''}, "
    f"enhanced={enhanced}, budget_min={effective_budget_min}, budget_max={effective_budget_max}, overhead_pct={overhead_pct}"
)
```

4. **–°–∫–∞–∂–∏—Ç–µ:** "–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ—Ç–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `Lot`: id, –Ω–æ–º–µ—Ä, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∑–∞–∫–∞–∑—á–∏–∫, –±—é–¥–∂–µ—Ç, –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –±—é–¥–∂–µ—Ç–∞ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤."

**–®–∞–≥ 2: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `analyze_documentation`**

1. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `analyze_documentation` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 420)
2. –ü–æ–∫–∞–∂–∏—Ç–µ –±–ª–æ–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
logger.debug(
    f"[DATA SOURCES] analyze_documentation - "
    f"lot_id={lot.id}, lot_number={lot.lot_number}, "
    f"platform={lot.platform_name}, customer={lot.customer}, "
    f"budget={lot.budget}, documentation_length={len(documentation_text)}, "
    f"documentation_preview={documentation_text[:500]}..., "
    f"budget_min={effective_budget_min}, budget_max={effective_budget_max}, overhead_pct={overhead_pct}"
)
```

3. **–°–∫–∞–∂–∏—Ç–µ:** "–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –ª–æ—Ç–∞ –ø–ª—é—Å —Ç–µ–∫—Å—Ç –∫–æ–Ω–∫—É—Ä—Å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞."

**–®–∞–≥ 3: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `search_suppliers_perplexity`**

1. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `search_suppliers_perplexity` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 550)
2. –ü–æ–∫–∞–∂–∏—Ç–µ –±–ª–æ–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
logger.debug(
    f"[DATA SOURCES] search_suppliers_perplexity - "
    f"product_name={clean_product_name}, max_suppliers={max_suppliers}"
)
```

3. **–°–∫–∞–∂–∏—Ç–µ:** "–î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (—Å—Ç—Ä–æ–∫–∞) –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞."

**–®–∞–≥ 4: –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –ª–æ–≥–æ–≤ –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å
2. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ–≥–æ–º `[DATA SOURCES]`
3. –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤—ã–∑–æ–≤–µ

### üí¨ –¢–µ–∫—Å—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞

> "–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
> 
> **1. analyze_lot:**
> - –ò—Å—Ç–æ—á–Ω–∏–∫: –æ–±—ä–µ–∫—Ç `Lot` –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
> - –î–∞–Ω–Ω—ã–µ: `lot.id`, `lot_number`, `platform_name`, `customer`, `budget`, `deadline`, `status`, `nomenclature`, `description`
> - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `budget_min`, `budget_max` (–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è), `overhead_pct` (–ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤)
> 
> **2. analyze_documentation:**
> - –ò—Å—Ç–æ—á–Ω–∏–∫: –æ–±—ä–µ–∫—Ç `Lot` + —Ç–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π –∏–∑ —Ñ–∞–π–ª–∞)
> - –î–∞–Ω–Ω—ã–µ: –≤—Å–µ –ø–æ–ª—è –ª–æ—Ç–∞ + `documentation_text` (—Å—Ç—Ä–æ–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
> - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: —Ç–µ –∂–µ, —á—Ç–æ –∏ –¥–ª—è `analyze_lot`
> 
> **3. search_suppliers_perplexity:**
> - –ò—Å—Ç–æ—á–Ω–∏–∫: —Å—Ç—Ä–æ–∫–∞ `product_name` (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
> - –î–∞–Ω–Ω—ã–µ: `product_name` (–æ—á–∏—â–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤), `max_suppliers` (–ª–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
> 
> **4. analyze_supplier_reliability:**
> - –ò—Å—Ç–æ—á–Ω–∏–∫: –¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–∑ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
> - –î–∞–Ω–Ω—ã–µ: `supplier_name` (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞), `supplier_inn` (–ò–ù–ù –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
> 
> –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º LLM —Å —Ç–µ–≥–æ–º `[DATA SOURCES]`."

### üì∏ –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ

- –ö–æ–¥ —Ç—Ä–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –±–ª–æ–∫–∞–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–ª–∏ –ª–æ–≥–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ `[DATA SOURCES]`

---

## ‚ùì –í–æ–ø—Ä–æ—Å 3: –ö–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è?

### üìç –ì–¥–µ –ø–æ–∫–∞–∑–∞—Ç—å

**–®–∞–≥ 1: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–¥–µ**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `services/ai/perplexity.py`
2. –ù–∞–π–¥–∏—Ç–µ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤, –ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 25)
3. –ü–æ–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–æ–≤:

**–î–ª—è analyze_lot:**
- `ENHANCED_ANALYSIS_SYSTEM_PROMPT` (—Å—Ç—Ä–æ–∫–∞ ~25)
- `ENHANCED_ANALYSIS_USER_TEMPLATE` (—Å—Ç—Ä–æ–∫–∞ ~35)

**–î–ª—è analyze_documentation:**
- `DOCUMENTATION_ANALYSIS_SYSTEM_PROMPT` (—Å—Ç—Ä–æ–∫–∞ ~200)
- `DOCUMENTATION_ANALYSIS_USER_TEMPLATE` (—Å—Ç—Ä–æ–∫–∞ ~210)

**–î–ª—è search_suppliers:**
- `SUPPLIERS_SEARCH_SYSTEM_PROMPT` (—Å—Ç—Ä–æ–∫–∞ ~380)
- `SUPPLIERS_SEARCH_USER_TEMPLATE` (—Å—Ç—Ä–æ–∫–∞ ~390)

**–î–ª—è analyze_supplier_reliability:**
- System –∏ user –ø—Ä–æ–º–ø—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `services/ai/commercial_proposal_analysis.py`
- System –ø—Ä–æ–º–ø—Ç: —Ä–æ–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- User –ø—Ä–æ–º–ø—Ç: –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞

4. **–°–∫–∞–∂–∏—Ç–µ:** "–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ (–∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö). –ö–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π: system-–ø—Ä–æ–º–ø—Ç (—Ä–æ–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞) –∏ user-–ø—Ä–æ–º–ø—Ç (—à–∞–±–ª–æ–Ω —Å –¥–∞–Ω–Ω—ã–º–∏)."

**–®–∞–≥ 2: –ü–æ–∫–∞–∑–∞—Ç—å –±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>`**

1. –í –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ `ENHANCED_ANALYSIS_USER_TEMPLATE` –Ω–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 100)
2. –ü–æ–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
   - –ö–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ—Å—Ç—å (0-3/10, 4-6/10, 7-10/10)
   - –ö–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–∞–Ω–∫—Ü–∏–∏
   - –ö–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –±—é–¥–∂–µ—Ç
   - –ö–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã

3. **–°–∫–∞–∂–∏—Ç–µ:** "–í –ø—Ä–æ–º–ø—Ç–µ —è–≤–Ω–æ –æ–ø–∏—Å–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∞ —Å –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–µ–π –æ—Ü–µ–Ω–∫–∏ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –≠—Ç–æ –Ω–µ –∂–µ—Å—Ç–∫–∏–π if-else, –∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –¥–∞–µ—Ç –º–æ–¥–µ–ª–∏ —Å–≤–æ–±–æ–¥—É –≤–Ω—É—Ç—Ä–∏ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ä–∞–º–æ–∫."

**–®–∞–≥ 3: –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏ –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å
2. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ–≥–æ–º `[LLM PROMPT]`
3. –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤—ã–∑–æ–≤–µ

**–®–∞–≥ 4: –ü–æ–∫–∞–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `call_llm_scenario`**

1. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `call_llm_scenario` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 160)
2. –ü–æ–∫–∞–∂–∏—Ç–µ –±–ª–æ–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤:

```python
logger.debug(f"[LLM PROMPT] {scenario_name} - SYSTEM:\n{system_content}")
logger.debug(f"[LLM PROMPT] {scenario_name} - USER ({len(user_content)} chars):\n{user_content}")
```

3. **–°–∫–∞–∂–∏—Ç–µ:** "–§—É–Ω–∫—Ü–∏—è `call_llm_scenario` –ª–æ–≥–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ LLM, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å."

### üí¨ –¢–µ–∫—Å—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞

> "–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–≤–æ–π –ø—Ä–æ–º–ø—Ç:
> 
> **1. analyze_lot:**
> - System: –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ –∑–∞–∫—É–ø–∫–∞–º
> - User: —à–∞–±–ª–æ–Ω `ENHANCED_ANALYSIS_USER_TEMPLATE` —Å –¥–∞–Ω–Ω—ã–º–∏ –ª–æ—Ç–∞ –∏ –±–ª–æ–∫–æ–º `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>`
> - –ê–ª–≥–æ—Ä–∏—Ç–º —è–≤–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é –æ—Ü–µ–Ω–∫–∏ —Ä–µ–¥–∫–æ—Å—Ç–∏, —Å–∞–Ω–∫—Ü–∏–π, –±—é–¥–∂–µ—Ç–∞ –∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
> 
> **2. analyze_documentation:**
> - System: –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
> - User: —à–∞–±–ª–æ–Ω `DOCUMENTATION_ANALYSIS_USER_TEMPLATE` —Å –¥–∞–Ω–Ω—ã–º–∏ –ª–æ—Ç–∞, —Ç–µ–∫—Å—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –∞–Ω–∞–ª–∏–∑–∞
> - –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã –∏ —Ä–∞—Å—á—ë—Ç—É –±—é–¥–∂–µ—Ç–∞
> 
> **3. search_suppliers_perplexity:**
> - System: –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ –ø–æ–∏—Å–∫—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
> - User: —à–∞–±–ª–æ–Ω `SUPPLIERS_SEARCH_USER_TEMPLATE` —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –ø–æ–∏—Å–∫–∞
> - –ê–ª–≥–æ—Ä–∏—Ç–º —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–∫–æ–º–ø–∞–Ω–∏–∏ —Å —Å–∞–π—Ç–∞–º–∏, —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
> 
> **4. analyze_supplier_reliability:**
> - System: –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
> - User: –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞ (–†–ï–ô–¢–ò–ù–ì –∏ –ò–ù–§–û–†–ú–ê–¶–ò–Ø)
> - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
> 
> –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `call_llm_scenario()` —Å —Ç–µ–≥–æ–º `[LLM PROMPT]`."

### üì∏ –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ

- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–¥–µ
- –ë–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>` –≤ –ø—Ä–æ–º–ø—Ç–µ
- –õ–æ–≥–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏ `[LLM PROMPT]`

---

## ‚ùì –í–æ–ø—Ä–æ—Å 4: –ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Telegram-–±–æ—Ç–µ?

### üìç –ì–¥–µ –ø–æ–∫–∞–∑–∞—Ç—å

**–®–∞–≥ 1: –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ LLM**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏ –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å
2. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ–≥–æ–º `[LLM RESULT]`
3. –ü–æ–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞

**–®–∞–≥ 2: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –≤ Telegram-–±–æ—Ç–µ**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram-–±–æ—Ç
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üß† –ê–Ω–∞–ª–∏–∑ –ª–æ—Ç–∞"
4. –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç –±–æ—Ç–∞

**–®–∞–≥ 3: –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –≤ –∫–æ–¥–µ**

1. –í –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ `ENHANCED_ANALYSIS_USER_TEMPLATE` –Ω–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ `<–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê>` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 180)
2. –ü–æ–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞:
   - üìä –û–¶–ï–ù–ö–ò –ü–û –ü–ê–†–ê–ú–ï–¢–†–ê–ú
   - üéØ –ò–ù–¢–ï–ì–†–ê–õ–¨–ù–ê–Ø –û–¶–ï–ù–ö–ê –†–ò–°–ö–ê
   - ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø
   - üìã –ö–õ–Æ–ß–ï–í–´–ï –†–ò–°–ö–ò
   - üí° –í–û–ó–ú–û–ñ–ù–û–°–¢–ò/–í–´–ì–û–î–´
   - üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

3. **–°–∫–∞–∂–∏—Ç–µ:** "–ü—Ä–æ–º–ø—Ç —è–≤–Ω–æ –∑–∞–¥–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç–º–æ–¥–∑–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–¥–æ–±–Ω—ã–º –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ Telegram."

**–®–∞–≥ 4: –ü–æ–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

- –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤: –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### üí¨ –¢–µ–∫—Å—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞

> "–†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Telegram-–±–æ—Ç–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
> 
> **–î–ª—è analyze_lot:**
> - –û—Ü–µ–Ω–∫–∏ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º (—Ä–µ–¥–∫–æ—Å—Ç—å, —Å–∞–Ω–∫—Ü–∏–∏, –±—é–¥–∂–µ—Ç, –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã) —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
> - –ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ (—á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 10)
> - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å" / "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é" / "–ù–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å"
> - –ö–ª—é—á–µ–≤—ã–µ —Ä–∏—Å–∫–∏ —Å —Å–ø–æ—Å–æ–±–∞–º–∏ —Å–Ω–∏–∂–µ–Ω–∏—è
> - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –≤—ã–≥–æ–¥—ã
> - –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
> 
> **–î–ª—è analyze_documentation:**
> - –ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
> - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –±—é–¥–∂–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
> - –û—Ü–µ–Ω–∫–∏ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º (–≤–∫–ª—é—á–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
> - –ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
> 
> **–î–ª—è search_suppliers_perplexity:**
> - –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–∞–π—Ç, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å, –≥–æ—Ä–æ–¥, –ò–ù–ù)
> - –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å —Å–∞–π—Ç–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
> 
> –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `call_llm_scenario()` —Å —Ç–µ–≥–æ–º `[LLM RESULT]`."

### üì∏ –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ

- –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram-–±–æ—Ç–µ (—Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ –∂–∏–≤–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)
- –õ–æ–≥–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `[LLM RESULT]`
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –≤ –ø—Ä–æ–º–ø—Ç–µ

---

## üé¨ –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (5-7 –º–∏–Ω—É—Ç)

### –ú–∏–Ω—É—Ç–∞ 1-2: –û–±—â–∏–π –æ–±–∑–æ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—É `ALGORITHM_DIAGRAM.html`
2. –ü–æ–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É "–û–±—â–∞—è —Å—Ö–µ–º–∞ –≤—ã–∑–æ–≤–æ–≤ LLM"
3. **–°–∫–∞–∂–∏—Ç–µ:** "–í —Å–∏—Å—Ç–µ–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ LLM. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥—ã–π."

### –ú–∏–Ω—É—Ç–∞ 2-3: –í–æ–ø—Ä–æ—Å 1 ‚Äî –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è LLM?

1. –ü–æ–∫–∞–∂–∏—Ç–µ –∫–æ–¥ —Å —Ç—Ä–µ–º—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏
2. –ü–æ–∫–∞–∂–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `call_llm_scenario`
3. **–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å 1**

### –ú–∏–Ω—É—Ç–∞ 3-4: –í–æ–ø—Ä–æ—Å 2 ‚Äî –ö–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è?

1. –ü–æ–∫–∞–∂–∏—Ç–µ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `analyze_lot` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. –ü–æ–∫–∞–∂–∏—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `analyze_documentation` –∏ `search_suppliers_perplexity`
3. –ü–æ–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏ `[DATA SOURCES]` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
4. **–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å 2**

### –ú–∏–Ω—É—Ç–∞ 4-5: –í–æ–ø—Ä–æ—Å 3 ‚Äî –ö–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

1. –ü–æ–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
2. –ü–æ–∫–∞–∂–∏—Ç–µ –±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>` –≤ –ø—Ä–æ–º–ø—Ç–µ
3. –ü–æ–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏ `[LLM PROMPT]` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
4. **–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å 3**

### –ú–∏–Ω—É—Ç–∞ 5-7: –í–æ–ø—Ä–æ—Å 4 ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram-–±–æ—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram-–±–æ—Ç
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –ª–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–æ—Ç–µ
4. –ü–æ–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏ `[LLM RESULT]` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
5. **–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å 4**

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞—â–∏—Ç–æ–π

- [ ] –§–∞–π–ª `services/ai/perplexity.py` –æ—Ç–∫—Ä—ã—Ç –∏ –≥–æ—Ç–æ–≤ –∫ –ø–æ–∫–∞–∑—É
- [ ] –î–∏–∞–≥—Ä–∞–º–º–∞ `ALGORITHM_DIAGRAM.html` –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] Telegram-–±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ª–æ—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã (—Ñ–∞–π–ª –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å)
- [ ] –ü—Ä–æ—á–∏—Ç–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –ø–æ–Ω—è—Ç–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**
   - –ï—Å–ª–∏ –ª–æ–≥–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã, –ø–æ–∫–∞–∂–∏—Ç–µ –∫–æ–¥ ‚Äî —Ç–∞–º –≤–∏–¥–Ω–æ, —á—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
   - –ï—Å–ª–∏ –±–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
   - –ï—Å–ª–∏ –ø—Ä–æ–º–ø—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π, –ø–æ–∫–∞–∂–∏—Ç–µ —Ç–æ–ª—å–∫–æ –±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>`

2. **–ê–∫—Ü–µ–Ω—Ç—ã:**
   - –ü–æ–¥—á–µ—Ä–∫–Ω–∏—Ç–µ, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∞ —è–≤–Ω–æ –æ–ø–∏—Å–∞–Ω –≤ –ø—Ä–æ–º–ø—Ç–µ (–±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>`)
   - –ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—Å–µ –≤—ã–∑–æ–≤—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ —á–µ—Ä–µ–∑ `call_llm_scenario()`
   - –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–º–ø—Ç–æ–≤ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —à–∞–±–ª–æ–Ω—ã)

3. **–ï—Å–ª–∏ –∫—É—Ä–∞—Ç–æ—Ä –∑–∞–¥–∞—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**
   - "–ü–æ—á–µ–º—É –ø—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤?" ‚Äî —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–º–ø—Ç–æ–≤
   - "–ö–∞–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º?" ‚Äî –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–µ—Å–∞ –≤ —Ñ–æ—Ä–º—É–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –±–ª–æ–∫ `<–ê–õ–ì–û–†–ò–¢–ú –ê–ù–ê–õ–ò–ó–ê>`
   - "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è LLM?" ‚Äî –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∞–Ω–∞–ª–∏–∑

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `services/ai/perplexity.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–Ω–∞–ª–∏–∑–∞
- `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/ALGORITHM_DIAGRAM.html` ‚Äî –¥–∏–∞–≥—Ä–∞–º–º—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/–î–æ—Ä–∞–±–æ—Ç–∫–∞ –∫ –∑–∞—â–∏—Ç–µ 1.md` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∫—É—Ä–∞—Ç–æ—Ä–∞
- `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/–î–æ—Ä–∞–±–æ—Ç–∫–∞ –∫ –∑–∞—â–∏—Ç–µ 2.md` ‚Äî —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤

---

**–£–¥–∞—á–∏ –Ω–∞ –∑–∞—â–∏—Ç–µ! üöÄ**

